<?xml version="1.0"?>
<TeamMentor_Article Metadata_Hash="709504568" Content_Hash="398873908">
  <Metadata>
    <Id>506cc12c-a9cf-425f-ab86-40f1dd93260a</Id>
    <Id_History>71cf3812-8a5f-4fff-9773-f180838abc69,</Id_History>
    <Library_Id>ea854894-8e16-46c8-9c61-737ef46d7e82</Library_Id>
    <Title>Connection Strings Are Encrypted in Configuration Files</Title>
    <Category>Data Access</Category>
    <Phase>Implementation</Phase>
    <Technology>ASP.NET 2.0</Technology>
    <Type>Checklist Item</Type>
    <DirectLink />
    <Tag />
    <Security_Demand />
    <Author />
    <Priority>J.D. Meier, Alex Mackman, Blaine Wastell, Prashant Bansode, Andy Wigley, Kishore Gopalan</Priority>
    <Status />
    <Source>SI</Source>
  </Metadata>
  <Content Sanitized="true" DataType="Html">
    <Data><![CDATA[<h1>Applies to</h1>
  <ul>
    <li>
      <div>ASP.NET 2.0</div>
    </li>
  </ul>
  <h1>What to Check For</h1>
  <p>Check to ensure that your&nbsp;connection strings are encrypted in configuration files using the Aspnet_regiis utility and protected configuration providers.</p>
  <p />
  <h1>How to Fix</h1>
  <p>In ASP.NET version 1.1, you could encrypt connection strings by using DPAPI encryption, although you had to write managed code to wrap the calls to DPAPI. This approach also presented problems in Web farms because of machine affinity. In ASP.NET version 2.0, you can use a protected configuration provider, such as DPAPI or RSA, which is easier to use in Web farms. You do not have to write code because you use the Aspnet_regiis.exe utility. </p>
  <p>In ASP.NET version 2.0 applications, place your database connection strings inside the &lt;<b>connectionStrings</b>&gt; element of the Web.config file and then encrypt that element by using the Aspnet_regiis utility. In a Web farm, use the RSA-protected configuration provider because RSA keys can be exported and imported across servers.</p>
  <h1>Additional Resources</h1>
  <ul>
    <li>For more information, see <a href="http://msdn2.microsoft.com/en-us/library/ms998280.aspx">How To: Encrypt Configuration Sections in ASP.NET 2.0 Using DPAPI</a> and <a href="http://msdn2.microsoft.com/en-us/library/ms998283.aspx">How To: Encrypt Configuration Sections in ASP.NET 2.0 Using RSA</a>.</li>
  </ul>
  <hr />
  <p>Adapted from Microsoft patterns & practices guidance.</p>]]></Data>
  </Content>
</TeamMentor_Article>