<?xml version="1.0"?>
<TeamMentor_Article Metadata_Hash="0" Content_Hash="0">
  <Metadata>
    <Id>a03df185-c381-4aef-a6d5-f34d0ddc5b39</Id>
    <Id_History>226aa41c-5420-49a8-a1a5-1d9b6892a5d5,</Id_History>
    <Library_Id>c4b9cb6a-4561-4451-9b6c-4e59d73584f6</Library_Id>
    <Title>Use Parameterized APIs to Build XML Documents</Title>
    <Category>Encoding</Category>
    <Phase>Implementation</Phase>
    <Technology>Java</Technology>
    <Type>Guideline</Type>
    <DirectLink>Use Parameterized APIs to Build XML Documents</DirectLink>
    <Author />
    <Priority />
    <Status />
  </Metadata>
  <Content Sanitized="false" DataType="wikitext">
    <Data><![CDATA[==Applies To==

* Java

==What to Do==

Use parameterized APIs to build XML documents instead of treating XML documents as strings and concatenating data into them.

==Why==

APIs designed for building XML documents will encode data properly to prevent attackers from manipulating XML data used by your application. A dangerous approach is to write your own set of functions to build XML documents by concatenating strings, or to modify an existing XML document by performing string operations. This means you have to take care of proper encoding yourself. Use APIs instead because they are simpler and safer.

==How==

To use parameterized APIs to build XML documents:

# **Identify available APIs that can be used to build XML documents.** There are many XML parsers available for Java. They have different syntax, but all the major ones provide parameterized APIs for building XML. Choose a parser that you feel best fits your application requirements.
# **Make sure your chosen APIs encode data correctly.** If unsure whether your chosen API encodes data correctly, write a small test application that will use your chosen XML parser to build an XML document that contains special characters, such as <, >, and " to see if they are encoded correctly.
# **Identify code that builds XML documents.** Make a spreadsheet of all the code that creates XML documents.
# **Use parameterized APIs to build XML documents.** Using the spreadsheet as a guide, replace the code that creates XML documents with code that uses APIs provided by your chosen parser to build XML documents. Don't use string operations to concatenate XML tags and data together, use the APIs provided by the parser instead.
]]></Data>
  </Content>
</TeamMentor_Article>