<?xml version="1.0"?>
<TeamMentor_Article Metadata_Hash="1432963947" Content_Hash="1134950286">
  <Metadata>
    <Id>97cc8247-cdad-416f-8969-590e763ae99d</Id>
    <Id_History>97cc8247-cdad-416f-8969-590e763ae99d,900d088a-6ec0-41ae-ac92-aedbbd71d80b,</Id_History>
    <Library_Id>92718d53-36b2-47bc-b6f5-e60994385f46</Library_Id>
    <Title>How to Use Security Transparency</Title>
    <Category>Code Access Security</Category>
    <Phase>Implementation</Phase>
    <Technology>.NET 3.5</Technology>
    <Type>How To</Type>
    <DirectLink>How to Use Security Transparency</DirectLink>
    <Tag />
    <Security_Demand />
    <Author />
    <Priority />
    <Status />
    <Source>SI</Source>
  </Metadata>
  <Content Sanitized="true" DataType="Html">
    <Data><![CDATA[<h1>Description</h1>
  <p>If you need to make an entire assembly transparent to indicate that the assembly does not contain any critical code and does not elevate the privileges of the call stack in any way, you can explicitly add transparency to an assembly with the following attribute: </p>
  <pre> &amp;#91;assembly: SecurityTransparent&amp;#93;  </pre>
  <p>If you need to mix critical and transparent code in the same assembly, start by marking the assembly with the <b>System.Security.SecurityCriticalAttribute</b> attribute to indicate that the assembly <i>can</i> contain critical code, as shown here. </p>
  <pre> &amp;#91;assembly: SecurityCritical&amp;#93;  </pre>
  <p>If you want to perform security-critical actions, you must explicitly mark the code that will perform the critical action with another <b>SecurityCritical</b> attribute, as shown in the following code example. </p>
  <pre> &amp;#91;assembly: SecurityCritical&amp;#93;public&amp;nbsp;class A<br />&amp;#123;<br />    &amp;#91;SecurityCritical&amp;#93;    public void Critical()<br />    &amp;#123;<br />        // critical<br />    &amp;#125;<br />    public int SomeProp<br />    &amp;#123;<br />        get &amp;#123;/&amp;#42; transparent &amp;#42;/&amp;nbsp;&amp;#125;<br />        set &amp;#123;/&amp;#42; transparent &amp;#42;/&amp;nbsp;&amp;#125;<br />    &amp;#125;<br />&amp;#125;<br />public class B&amp;#123;<br />        internal string SomeOtherProp<br />    &amp;#123;<br />        get &amp;#123; /&amp;#42; transparent &amp;#42;/&amp;nbsp;&amp;#125;<br />        set &amp;#123; /&amp;#42; transparent &amp;#42;/&amp;nbsp;&amp;#125;<br />    &amp;#125;<br />&amp;#125;  </pre>
  <p>The above code is transparent (this is the default setting, even with the assembly-level <b>SecurityCritical</b> attribute) except for the <b>Critical</b> method, which is explicitly marked as critical. </p>
  <hr />
  <p>Adapted from Microsoft patterns &amp; practices guidance.</p>]]></Data>
  </Content>
</TeamMentor_Article>