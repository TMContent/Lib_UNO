<?xml version="1.0"?>
<TeamMentor_Article Metadata_Hash="0" Content_Hash="0">
  <Metadata>
    <Id>ba0e0ea6-6890-4b51-a26f-fd42deb463ba</Id>
    <Id_History>00000000-0000-0000-0000-00000020f062,</Id_History>
    <Library_Id>26bd1a04-beed-4a66-917d-b6ab0a7d634c</Library_Id>
    <Title>SQL Injection</Title>
    <Category>Database Security</Category>
    <Phase>Implementation</Phase>
    <Technology>ASP.NET 4.0</Technology>
    <Type>Vulnerability</Type>
    <DirectLink>SQL Injection</DirectLink>
    <Author />
    <Priority />
    <Status />
  </Metadata>
  <Content Sanitized="false" DataType="wikitext">
    <Data><![CDATA[==Description==

SQL injection is a type of vulnerabilities in database access code that allows attackers to execute unauthorized queries on the database. SQL injection typically occurs when an application uses input to construct dynamic SQL statements to access the database. SQL injection may also occur if stored procedures use dynamic queries that include untrusted input. Using the SQL injection attack, an attacker can execute arbitrary commands on the database with the privileges of the application. SQL injection applies to all applications that query SQL databases. To prevent this problem, validate all input and use parameterized APIs for database access. To check for this vulnerability, find all queries generated by the application and verify that they don't include unvalidated user input.

==Impact==

SQL injection allows the attacker to access any data in the database. The attacker will usually use this to extract any sensitive data from the database. If there are any passwords in the database, the attacker is likely to try to use them to login as the administrator and take over the application or the server. Some database servers allow so-called "stacked queries". "Stacked queries" allow executing multiple queries separated by a semi-colon from one string. If "stacked queries" are enabled, SQL injection allows the attacker to execute any queries on the database server. This usually allows the attacker to take full control of the application. Many database servers also allow executing arbitrary operating system commands. The attacker may abuse that functionality with SQL injection to take full control of the application or the server. 

==Countermeasures==

Implement all of the following countermeasures to protect your application against SQL injection. 

* [[3de41277-0cc1-4ebc-8dd7-e96d161aa0ef|Validate All Input]]
* [[e59923e7-c2fb-4a75-8db7-a9a91e869f74|Validate Input for Length, Range, Format, And Type]]
* [[9f0fc6bb-7dd0-4e1a-bbeb-d73ab3c25ebf|Validate All Input Passed to the Database]]
* [[92e7b9b6-b0fb-4ec0-b529-0c6156430198|Use Parameterized APIs for Database Access]]
* [[0949fe39-0723-49ec-970b-a914bb722695|Use Stored Procedures for SQL Queries]]

==Checklists==

Use each of the following checklist items to make sure that sufficient countermeasures against SQL injection have been implemented. 

* [[a210fcb7-f142-4c2e-844a-c43e0859f90d|All Input Is Validated]]
* [[0e71dd64-87d1-4cf5-9569-ea320f209977|Input Is Validated for Length, Range, Format, And Type]]
* [[e164ec5f-d683-445f-925c-9e09d2b5bbc3|All Database Input Is Validated]]
* [[cf040b19-4e85-4276-b718-65bc5c290f8f|Parameterized APIs Are Used for Database Access]]
* [[72bb474e-80c6-4533-b363-0195c2c74196|Stored Procedures with Type-safe Parameters Are Used for SQL Queries]]

==Computer Based Training Links==

Use the following Computer Based Training courses to learn more about SQL Injection including techniques for remediation and prevention.

===Creating Secure C# Code===

This course will provide a deep understanding of application security risks and secure coding standards for C# applications. The main lesson guides students through the concepts underlying the coding principles and illustrates real-world best practices and techniques, and the labs allow students to test what they have learned.

For more information about SQL Injection in ASP.NET applications, see screens 16 and 30-39 in [[http://teamprofessor.absorbtraining.com/ninja/#/courses/course/127608|COD 314 Creating Secure C# Code]].

//Valid login credentials and enrollment in the course itself are required to access Team Professor content. If you need login credentials, please contact support@securityinnovation.com for help.//]]></Data>
  </Content>
</TeamMentor_Article>