<?xml version="1.0"?>
<TeamMentor_Article Metadata_Hash="-1498420805" Content_Hash="554923251">
  <Metadata>
    <Id>559f5073-d20f-418a-a5ad-e7583de974df</Id>
    <Id_History>2080db53-ffab-4427-911e-2373a53607b9,</Id_History>
    <Library_Id>26bd1a04-beed-4a66-917d-b6ab0a7d634c</Library_Id>
    <Title>Encrypt All Sensitive Data</Title>
    <Category>Encryption</Category>
    <Phase>Design</Phase>
    <Technology>ASP.NET 4.0</Technology>
    <Type>Guideline</Type>
    <DirectLink>Encrypt All Sensitive Data</DirectLink>
    <Tag />
    <Security_Demand />
    <Author />
    <Priority />
    <Status />
    <Source>SI</Source>
  </Metadata>
  <Content Sanitized="true" DataType="Html">
    <Data><![CDATA[<h1>Applies To</h1>
  <ul>
    <li>ASP.NET 4.0</li>
  </ul>
  <h1>What to Do</h1>
  <p>Encrypt all sensitive data.</p>
  <h1>Why</h1>
  <p>Sensitive user data can be compromised if stored in plaintext. Unauthorized access by users or attackers can lead to information disclosure.</p>
  <h1>When</h1>
  <p>All sensitive data should be encrypted.</p>
  <h1>How</h1>
  <p>To encrypt all sensitive data:</p>
  <ol>
    <li>
      <p>
        <strong>Identify sensitive information.</strong> Sensitive data is any information that is kept secret and should be disclosed only to authorized parties. Common examples of sensitive data include, but are not limited to, names of customers, government issued ID numbers, credit card and other financial information, passwords, and private keys. Sensitive data can be defined as follows: </p>
      <ul>
        <li>Information that either contains personally identifiable information or that&amp;nbsp;can be used to derive personally identifiable information that should not be shared with others. </li>
        <li>Information that a user provides that they would not want shared with other users of the application. </li>
        <li>Information that comes from an external trusted source that is not designed to be shared with users. </li>
        <li>Some industries, such as health care and banking, have regulatory standards that define sensitive information.&amp;nbsp;If any&amp;nbsp;regulatory requirements&amp;nbsp;apply to your application that&amp;nbsp;define sensitive data, use those definitions.</li>
      </ul>
    </li>
    <li>
      <p>
        <strong>Determine if storage is required.</strong> The safest thing to do with sensitive information is not store it at all. Examine how much information is stored in each case and how long that information is stored for. Determine whether the information needs to be stored. Any information being stored that does not need to be should be purged and the application should be rewritten to discontinue storage of the unnecessary information. When&amp;nbsp;sensitive information&amp;nbsp;must be stored, establish policies about purging&amp;nbsp;it from both primary and backup storage, and ensure that they are followed. Be careful when using caches.</p>
    </li>
    <li>
      <p>
        <strong>Store sensitive data securely.</strong> Choose the appropriate cryptographic mechanism for securing sensitive data and implement it.</p>
      <ul>
        <li>
          <p>
            <strong>Hashing.</strong> Hashing is appropriate for storing passwords. If your application stores passwords, hash and salt them for storage. It is recommended to use platform specific authentication controls for handling password storage. If custom authentication controls are required, passwords should be hashed and salted for storage. Hashing is not very useful for securing information other than passwords.</p>
        </li>
        <li>
          <p>
            <strong>Encryption.</strong> Encryption is useful for storing all types of information other than passwords. AES-256 should be used to secure sensitive data that needs to be stored. AES-256 is implemented in the System.Security.Cryptography namespace.</p>
        </li>
      </ul>
    </li>
  </ol>
  <h1>Problem Example</h1>
  <p>An ASP.NET application contains the following <em>appSettings</em> element in its web.config file:</p>
  <pre>&lt;appSettings&gt;<br />    &lt;add key="Name" value="John Doe" /&gt;<br />    &lt;add key="SSN" value="123-45-6789" /&gt;<br />&lt;/appSettings&gt;</pre>
  <p>Since the name and social security number are in plaintext they would be easily readable by any attacker who gains access to the server.</p>
  <hr />
  <p>Adapted from Microsoft patterns &amp; practices guidance. </p>]]></Data>
  </Content>
</TeamMentor_Article>