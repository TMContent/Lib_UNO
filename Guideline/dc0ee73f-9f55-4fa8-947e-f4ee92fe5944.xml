<?xml version="1.0"?>
<TeamMentor_Article Metadata_Hash="-915425609" Content_Hash="1525895339">
  <Metadata>
    <Id>dc0ee73f-9f55-4fa8-947e-f4ee92fe5944</Id>
    <Id_History>dc0ee73f-9f55-4fa8-947e-f4ee92fe5944,4e00df65-2ef0-479e-9293-b6eca817198d,</Id_History>
    <Library_Id>92718d53-36b2-47bc-b6f5-e60994385f46</Library_Id>
    <Title>Implement BeforeSendRequest Method to Validate Outbound Messages on the Client</Title>
    <Category>Input and Data Validation</Category>
    <Phase>Implementation</Phase>
    <Technology>WCF 3.5</Technology>
    <Type>Guideline</Type>
    <DirectLink>Implement BeforeSendRequest Method to Validate Outbound Messages on the Client</DirectLink>
    <Tag />
    <Security_Demand />
    <Author />
    <Priority>J.D. Meier, Jason Taylor, Prashant Bansode, Carlos Farre, Madhu Sundararajan, Rob Boucher, Steve Gregersen</Priority>
    <Status />
    <Source>SI</Source>
  </Metadata>
  <Content Sanitized="true" DataType="Html">
    <Data><![CDATA[<h1>Applies to</h1>
  <ul>
    <li>Microsoft® Windows Communication Foundation (WCF) 3.5 
<li>Microsoft Visual Studio® 2008</li></li>
  </ul>
  <h1>What to Do</h1>
  <p>If you need to validate outbound messages on the client, implement the BeforeSendRequest method of the interface IClientMessageInspector of the message inspector.</p>
  <h1>When</h1>
  <p>Consider using this guideline when you want to validate the client message before sending it to the service.</p>
  <h1>How</h1>
  <p>If you need to perform validation on client of outbound messages implement the BeforeSendRequest method of the interface IClientMessageInspector of the message inspector. This will validate the message before sending the request to the service and after serialization. </p>
  <p>Outbound message validation will be required if you want to validate the message, before sending the request to the service, so you can validate input parameters, message and data contracts in the client.</p>
  <p>Following example shows how to implement BeforeSendRequest method.</p>
  <pre>object IClientMessageInspector.BeforeSendRequest(ref System.ServiceModel.Channels.Message request, System.ServiceModel.IClientChannel channel)<br />{<br />    validateMessage(ref request);<br />    return null;<br />}</pre>
  <h1>Additional Resources</h1>
  <ul>
    <li>For more information, see “How to: Inspect or Modify Messages on the Client” at <a href="http://msdn2.microsoft.com/en-us/library/ms733786.aspx">http://msdn2.microsoft.com/en-us/library/ms733786.aspx</a><li>For more information, see “How to: Inspect or Modify Parameters” at <a href="http://msdn2.microsoft.com/en-us/library/ms733747.aspx">http://msdn2.microsoft.com/en-us/library/ms733747.aspx</a></li></li>
  </ul>
  <hr />
  <p>Adapted from Microsoft patterns &amp; practices guidance.</p>]]></Data>
  </Content>
</TeamMentor_Article>