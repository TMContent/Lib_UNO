<?xml version="1.0"?>
<TeamMentor_Article Metadata_Hash="123535355" Content_Hash="-1394122322">
  <Metadata>
    <Id>00df8661-4501-457e-8f3f-165ed44ee892</Id>
    <Id_History>00df8661-4501-457e-8f3f-165ed44ee892,fb0fb72e-4a98-40d0-9903-b8fa7d305ac9,</Id_History>
    <Library_Id>be5273b1-d682-4361-99d9-6234f2d47eb7</Library_Id>
    <Title>[VERIFYME] Use WCF Auditing to Audit Your Service</Title>
    <Category>Auditing and Logging</Category>
    <Phase>Implementation</Phase>
    <Technology>WCF</Technology>
    <Type>Guideline</Type>
    <DirectLink>Use WCF Auditing to Audit Your Service</DirectLink>
    <Tag>WCF 3.5</Tag>
    <Security_Demand />
    <Author />
    <Priority>J.D. Meier, Jason Taylor, Prashant Bansode, Carlos Farre, Madhu Sundararajan, Rob Boucher, Steve Gregersen</Priority>
    <Status />
    <Source>SI</Source>
  </Metadata>
  <Content Sanitized="true" DataType="Html">
    <Data><![CDATA[<h1>Applies to</h1>
  <ul>
    <li>Microsoft&amp;#174; Windows Communication Foundation (WCF) 3.5 <li>Microsoft Visual Studio&amp;#174; 2008</li></li>
  </ul>
  <h1>What to Do</h1>
  <p>Use the WCF auditing feature to audit your service.</p>
  <h1>Why</h1>
  <p>WCF service auditing can allow you to detect an attack that has occurred or is in progress. In addition, auditing can help you debug security-related problems. For example, if an error in the configuration of the authorization or checking policy accidentally denies access to an authorized user, you can discover and isolate the cause of this error by examining the auditing events in the event log.</p>
  <h1>How</h1>
  <p>Configure your application to use the WCF auditing feature to log security events for success, failure or both. The events are written to the Windows system event log and you can view and examine them in the Event Viewer. </p>
  <p>
    <br />The following configuration snippet shows how to configure your WCF service to use auditing:</p>
  <pre>&lt;configuration&gt;<br />  &lt;system.serviceModel&gt;<br />    &lt;behaviors&gt;<br />      &lt;behavior&gt;<br />        &lt;serviceSecurityAudit<br />             auditLogLocation="Application"<br />             suppressAuditFailure="true"<br />             serviceAuthorizationAuditLevel="Failure"<br />             messageAuthenticationAuditLevel=<br />                         "SuccessOrFailure" /&gt; <br />      &lt;/behavior&gt;<br />    &lt;/behaviors&gt;<br />  &lt;/system.serviceModel&gt;<br />&lt;/configuration&gt;<br /></pre>
  <h1>Additional Resources</h1>
  <ul>
    <li>For more information on WCF auditing, see &amp;#8220;Auditing Security Events&amp;#8221; at <a href="http://msdn2.microsoft.com/en-us/library/ms731669.aspx">http://msdn2.microsoft.com/en-us/library/ms731669.aspx</a><li>For auditing security concerns, see &amp;#8220;Security Concerns for Message Logging&amp;#8221; at <a href="http://msdn.microsoft.com/en-us/library/ms730318.aspx">http://msdn.microsoft.com/en-us/library/ms730318.aspx</a></li></li>
  </ul>
  <hr />
  <p>Adapted from Microsoft patterns &amp; practices guidance.</p>]]></Data>
  </Content>
</TeamMentor_Article>